{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/client/components/App/App.scss?aa3e","webpack:///./src/client/components/App/App.tsx","webpack:///./src/client/components/BreadCrumb/BreadCrumb.scss?987b","webpack:///./src/client/components/BreadCrumb/BreadCrumb.tsx","webpack:///./src/client/components/Detail/Detail.scss?2f68","webpack:///./src/client/components/Detail/Detail.tsx","webpack:///./src/client/components/Results/ItemCard/ItemCard.scss?6e35","webpack:///./src/client/components/Results/ItemCard/ItemCard.tsx","webpack:///./src/client/components/Results/Results.scss?82b8","webpack:///./src/client/components/Results/Results.tsx","webpack:///./src/client/components/SearchBar/SearchInput/index.js","webpack:///./src/client/components/SearchBar/SearchInput/styles.scss?0e58","webpack:///./src/client/components/SearchBar/index.tsx","webpack:///./src/client/components/SearchBar/styles.scss?99f9","webpack:///./src/server/api.js","webpack:///./src/server/index.js","webpack:///./src/server/utils.js","webpack:///external \"axios\"","webpack:///external \"babel-polyfill\"","webpack:///external \"cors\"","webpack:///external \"express\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-bootstrap\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-router-dom\""],"names":["SearchInput","onEnter","handleInput","event","key","window","location","href","target","value","style","searchInputContainer","searchInput","app","get","req","res","axios","query","q","timeout","then","result","formattedResults","formatResults","data","send","error","status","message","all","params","id","formattedResult","formatItem","category_id","path_from_root","express","cors","require","use","path","join","api","html","apiResponse","url","__html","JSON","stringify","search","response","responseData","category","pathFromRoot","ReactDOM","renderToString","results","item","listen","console","log","authorCreator","name","lastName","getItemData","title","price","currency","currency_id","amount","Math","trunc","decimal","parseInt","split","picture","pictures","thumbnail","condition","free_shipping","shipping","author","sold_quantity","description","text","plain_text","mostOccurrences","categories","map","a","filter","b","length","indexOf","max","apply","searchInfo","searchResults","resultsLengthIndex","slice","push","breadCrumbCategory"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AACe,gEAAC,sCAAsC,E;;;;;;;;;;;;ACDtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqD;AACU;AACvB;AACH;AACrC,kCAAkC;AACG;AACP;AAC9B,4BAA4B;AAE5B,IAAM,GAAG,GAAG,UAAC,KAAS;IACb,WAAO,GAAI,sDAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,GAA/B,CAA+B,CAAC,oDAAoD;IAClG,OAAO,CACL,oEAAK,SAAS,EAAE,iDAAK,CAAC,SAAS;QAC7B,2DAAC,kDAAS,OAAE;QACZ,oEAAK,SAAS,EAAE,iDAAK,CAAC,cAAc;YAClC,2DAAC,uDAAM;gBACL,2DAAC,sDAAK,IAAC,KAAK,QAAC,IAAI,EAAC,GAAG,EAAC,SAAS,EAAE,cAAM,8EAAW,EAAX,CAAW,GAAG;gBACrD,2DAAC,sDAAK,IAAC,KAAK,QAAC,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAE,cAAM,kEAAC,wDAAO,IAAC,KAAK,EAAE,OAAO,CAAC,OAAO,EAAE,YAAY,EAAE,OAAO,CAAC,YAAY,GAAG,EAAtE,CAAsE,GAAI;gBACtH,2DAAC,sDAAK,IAAC,KAAK,QAAC,IAAI,EAAC,YAAY,EAAC,SAAS,EAAE,cAAM,kEAAC,sDAAM,IAAC,MAAM,EAAE,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,cAAc,GAAG,EAA7D,CAA6D,GAAI;gBACjH,2DAAC,sDAAK,IAAC,SAAS,EAAE,cAAM,2FAAoB,EAApB,CAAoB,GAAI,CACzC,CACL,CACF,CACP;AACH,CAAC;AAEc,kEAAG;;;;;;;;;;;;;AC1BlB;AAAA;AACe,gEAAC,sCAAsC,E;;;;;;;;;;;;ACDtD;AAAA;AAAA;AAAA;AAA0B;AACa;AAEvC,IAAM,UAAU,GAAG,UAAE,KAAU;IACpB,QAAI,GAAI,KAAK,KAAT,CAAU;IACrB,OAAM,CACF,oEAAK,SAAS,EAAE,wDAAM,CAAC,SAAS,IAC3B,IAAI,CAAC,GAAG,CAAC,UAAC,IAAQ,EAAE,KAAY;QAC7B,OAAO,IAAI,CAAC,IAAI,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;IAC5D,CAAC,CAAC,CACA,CACT;AACL,CAAC;AAEc,yEAAU,EAAC;;;;;;;;;;;;;ACd1B;AAAA;AACe,gEAAC,sXAAsX,E;;;;;;;;;;;;ACDtY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0B;AACQ;AAC0B;AACV;AAElD,IAAM,YAAY,GAAG,UAAC,MAAa,EAAE,OAAe;IAChD,IAAI,WAAW,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;IACzE,IAAI,gBAAgB,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;IAC1G,IAAI,WAAW,GAAG,gBAAgB,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC3E,OAAO,WAAW,GAAG,WAAW,CAAC;AACrC,CAAC;AAED,IAAM,MAAM,GAAG,UAAE,KAAU;IAChB,UAAM,GAAU,KAAK,OAAf,EAAE,IAAI,GAAI,KAAK,KAAT,CAAU;IAC7B,OAAM,CACF;QACA,2DAAC,8DAAU,IAAC,IAAI,EAAE,IAAI,GAAG;QACzB,2DAAC,yDAAS,IAAC,SAAS,EAAE,oDAAM,CAAC,SAAS;YAClC,2DAAC,mDAAG,IAAC,SAAS,EAAE,oDAAM,CAAC,OAAO;gBAC1B,2DAAC,IAAI,IAAC,MAAM,EAAE,MAAM,GAAG,CACrB;YACN,2DAAC,mDAAG;gBACJ,2DAAC,mDAAG,IAAC,EAAE,EAAC,GAAG,EAAC,SAAS,EAAE,oDAAM,CAAC,WAAW;oBACrC,uGAAiC;oBACjC,sEAAI,MAAM,CAAC,WAAW,CAAK,CACzB,CACA,CACE,CACT,CACN;AACL,CAAC;AAED,IAAM,IAAI,GAAG,UAAC,KAAS;IACZ,UAAM,GAAI,KAAK,OAAT,CAAU;IACvB,OAAM,CACF;QACI,2DAAC,mDAAG,IAAC,EAAE,EAAC,GAAG;YACP,oEAAK,SAAS,EAAE,oDAAM,CAAC,YAAY,EAAE,GAAG,EAAE,MAAM,CAAC,OAAO,GAAG,CACzD;QACN,2DAAC,mDAAG,IAAC,EAAE,EAAC,GAAG,GACL;QACN,2DAAC,mDAAG,IAAC,EAAE,EAAC,GAAG,EAAC,SAAS,EAAE,oDAAM,CAAC,cAAc;YACxC;gBACI;oBACI,yEAAO,MAAM,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAQ;;oBAAG;wBAAO,MAAM,CAAC,aAAa;oCAAiB,CAC1G;gBACN,mEAAI,SAAS,EAAE,oDAAM,CAAC,KAAK,IACtB,MAAM,CAAC,KAAK,CACZ;gBACL,mEAAI,SAAS,EAAE,oDAAM,CAAC,MAAM;;oBACrB,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CACzD;gBACL,2DAAC,sDAAM,IAAC,IAAI,EAAC,IAAI,EAAC,SAAS,EAAE,oDAAM,CAAC,MAAM,EAAE,OAAO,EAAC,SAAS,cAAiB,CAC/E,CACD,CACP,CACN;AACL,CAAC;AAIc,qEAAM;;;;;;;;;;;;;AC7DrB;AAAA;AACe,gEAAC,yLAAyL,E;;;;;;;;;;;;ACDzM;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0B;AACS;AACiB;AAEpD,IAAM,cAAc,GAAG,UAAC,EAAS;IAC7B,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,CAAC,SAAS,GAAG,EAAE,CAAC;AAC3C,CAAC;AAED,IAAM,YAAY,GAAG,UAAC,MAAa,EAAE,OAAe;IAChD,IAAI,WAAW,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;IACzE,IAAI,gBAAgB,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;IAC1G,IAAI,WAAW,GAAG,gBAAgB,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC3E,OAAO,WAAW,GAAG,WAAW,CAAC;AACrC,CAAC;AAED,IAAM,IAAI,GAAG,UAAC,KAAS;IACnB,OAAM,CACF,2DAAC,yDAAS,IAAC,KAAK,QAAC,SAAS,EAAC,KAAK;QAC5B,oEAAK,OAAO,EAAE,cAAM,qBAAc,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,EAA7B,CAA6B,EAAE,SAAS,EAAE,sDAAK,CAAC,SAAS;YACzE,2DAAC,mDAAG;gBACA,2DAAC,mDAAG,IAAC,EAAE,EAAC,GAAG;oBACP,oEAAK,SAAS,EAAE,sDAAK,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,OAAO,GAAQ,CAC1D;gBACN,2DAAC,mDAAG,IAAC,EAAE,EAAC,GAAG;oBACP,oEAAK,SAAS,EAAE,sDAAK,CAAC,OAAO;wBACzB;;4BAAO,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAM;wBAC5E,uEAAK,KAAK,CAAC,IAAI,CAAC,KAAK,CAAM,CACzB,CACJ;gBACN,2DAAC,mDAAG,IAAC,EAAE,EAAC,GAAG;oBACP,qEAAM,SAAS,EAAE,sDAAK,CAAC,QAAQ,sBAAwB,CACrD,CACJ,CACJ,CACE,CACf;AACL,CAAC;AAEc,mEAAI,EAAC;;;;;;;;;;;;;ACtCpB;AAAA;AACe,gEAAC,oCAAoC,E;;;;;;;;;;;;ACDpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqD;AACV;AACT;AACgB;AAElD,IAAM,OAAO,GAAG,UAAC,KAAS;IACtB,OAAM,CACF;QACI,2DAAC,8DAAU,IAAC,IAAI,EAAE,KAAK,CAAC,YAAY,GAAG;QACvC,oEAAK,SAAS,EAAE,qDAAK,CAAC,SAAS;YAC3B,wEACK,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,UAAC,MAAU,EAAE,GAAU;gBAClD,OAAO,2DAAC,0DAAQ,IAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,GAAG;YAC9C,CAAC,CAAC,CAAC,CAAC,CAAC,qFAAqB,CACxB,CACJ,CACP,CACN;AACL,CAAC;AAEc,sEAAO,EAAC;;;;;;;;;;;;;ACpBvB;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAACC,OAAD,EAAa;AAE7B,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAC3B,QAAIA,KAAK,CAACC,GAAN,KAAc,OAAlB,EAA2B;AACvBC,YAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,mBAAmBJ,KAAK,CAACK,MAAN,CAAaC,KAAvD;AACH;AACJ,GAJD;;AAMA,sBACI;AAAK,aAAS,EAAEC,oDAAK,CAACC;AAAtB,kBACI;AAAO,aAAS,EAAED,oDAAK,CAACE,WAAxB;AAAqC,aAAS,EAAEV;AAAhD,IADJ,CADJ;AAKH,CAbD;;AAeeF,0EAAf,E;;;;;;;;;;;;AClBA;AAAA;AACe,gEAAC,uFAAuF,E;;;;;;;;;;;;ACDvG;AAAA;AAAA;AAAA;AAAA;AAA0B;AACQ;AACM;AAExC,IAAM,SAAS,GAAG,UAAC,KAAS;IAExB,IAAM,MAAM,GAAG;QACX,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,GAAG;IAC9B,CAAC;IAED,OAAM,CACF,oEAAK,SAAS,EAAE,oDAAK,CAAC,MAAM;QACxB,oEAAK,SAAS,EAAE,oDAAK,CAAC,kBAAkB;YACpC,oEAAK,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,oDAAK,CAAC,KAAK,EAAE,GAAG,EAAC,kBAAkB,GAAO;YAC3E,2DAAC,oDAAW,IAAC,OAAO,EAAE,KAAK,CAAC,OAAO,GAAG,CACpC,CACJ,CACT;AACL,CAAC;AAEc,wEAAS,EAAC;;;;;;;;;;;;;ACpBzB;AAAA;AACe,gEAAC,oHAAoH,E;;;;;;;;;;;;;;;;;;;;;;;;;;ACDpI;AACA;AAEe,yEAASa,GAAT,EAAa;AACxB;AACAA,KAAG,CAACC,GAAJ,CAAQ,YAAR;AAAA,uEAAsB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAClB,kBAAI;AACAC,4DAAK,CAACH,GAAN,CAAU,qDAAqDC,GAAG,CAACG,KAAJ,CAAUC,CAAzE,EAA4E;AAACC,yBAAO,EAAE;AAAV,iBAA5E,EACCC,IADD,CACM,UAAAC,MAAM,EAAI;AACZ,sBAAMC,gBAAgB,GAAGC,4DAAa,CAACF,MAAM,CAACG,IAAR,CAAtC;AACAT,qBAAG,CAACU,IAAJ,CAASH,gBAAT;AACH,iBAJD;AAKH,eAND,CAOA,OAAMI,KAAN,EAAY;AACRX,mBAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB;AAACG,yBAAO,EAAE;AAAV,iBAArB;AACH;;AAViB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAtB;;AAAA;AAAA;AAAA;AAAA,OAFwB,CAexB;;AACAhB,KAAG,CAACC,GAAJ,CAAQ,gBAAR,EAA0B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACpC,QAAG;AACCC,kDAAK,CAACa,GAAN,CAAU,CACNb,4CAAK,CAACH,GAAN,CAAU,wCAAwCC,GAAG,CAACgB,MAAJ,CAAWC,EAA7D,EAAiE;AAAEZ,eAAO,EAAE;AAAX,OAAjE,CADM,EAENH,4CAAK,CAACH,GAAN,CAAU,wCAAwCC,GAAG,CAACgB,MAAJ,CAAWC,EAAnD,GAAwD,cAAlE,EAAkF;AAAEZ,eAAO,EAAE;AAAX,OAAlF,CAFM,CAAV,EAICC,IAJD,CAIM,UAAAC,MAAM,EAAI;AACZ,YAAIW,eAAe,GAAGC,yDAAU,iCAAKZ,MAAM,CAAC,CAAD,CAAN,CAAUG,IAAf,GAAwBH,MAAM,CAAC,CAAD,CAAN,CAAUG,IAAlC,EAAhC;AACAT,WAAG,CAACU,IAAJ,CAASO,eAAT;AACH,OAPD;AAQH,KATD,CAUA,OAAMN,KAAN,EAAY;AACRX,SAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB;AACjBG,eAAO,EAAEF,KAAK,CAACE;AADE,OAArB;AAEG;;AAAA;AACV,GAfD;AAkBAhB,KAAG,CAACC,GAAJ,CAAQ,mCAAR,EAA6C,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvD,QAAG;AACCC,kDAAK,CAACH,GAAN,CAAU,6CAA6CC,GAAG,CAACgB,MAAJ,CAAWI,WAAlE,EAA+E;AAAEf,eAAO,EAAE;AAAX,OAA/E,EACCC,IADD,CACM,UAAAC,MAAM,EAAI;AACZN,WAAG,CAACU,IAAJ,CAASJ,MAAM,CAACG,IAAP,CAAYW,cAArB;AACH,OAHD;AAIH,KALD,CAMA,OAAMT,KAAN,EAAY;AAAEX,SAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB;AAC3BG,eAAO,EAAEF,KAAK,CAACE;AADY,OAArB;AAGb;AACJ,GAXD;AAYH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,IAAMhB,GAAG,GAAGwB,8CAAO,EAAnB;;AACA,IAAIC,IAAI,GAAGC,mBAAO,CAAC,kBAAD,CAAlB,C,CACA;;;AACA1B,GAAG,CAAC2B,GAAJ,CAAQF,IAAI,EAAZ;AACAzB,GAAG,CAAC2B,GAAJ,CAAQ,SAAR,EAAmBH,8CAAO,UAAP,CAAe,MAAf,CAAnB;AACAxB,GAAG,CAAC2B,GAAJ,CAAQ,SAAR,EAAmBH,8CAAO,UAAP,CAAeI,2CAAI,CAACC,IAAL,CAAU,QAAV,EAAoB,QAApB,CAAf,CAAnB;AACA7B,GAAG,CAAC2B,GAAJ,CAAQ,SAAR,EAAmBH,8CAAO,UAAP,CAAeI,2CAAI,CAACC,IAAL,CAAU,cAAV,EAA0B,KAA1B,CAAf,CAAnB;AAEAC,oDAAG,CAAC9B,GAAD,CAAH;;AAEA,IAAM+B,IAAI,GAAG,SAAPA,IAAO,CAAC7B,GAAD,EAAM8B,WAAN;AAAA,sBACP,sFACI,sFACE;AAAM,WAAO,EAAC;AAAd,IADF,eAEE;AAAM,QAAI,EAAC,UAAX;AAAsB,WAAO,EAAC;AAA9B,IAFF,eAGE,kFAHF,eAIE;AAAM,OAAG,EAAC,YAAV;AAAuB,QAAI,EAAC;AAA5B,IAJF,eAKE;AACI,OAAG,EAAC,YADR;AAEI,QAAI,EAAC,uEAFT;AAGI,aAAS,EAAC,yEAHd;AAII,eAAW,EAAC;AAJhB,IALF,CADJ,eAaI,sFACI;AAAK,MAAE,EAAC;AAAR,kBACE,2DAAC,6DAAD;AAAc,YAAQ,EAAE9B,GAAG,CAAC+B;AAA5B,kBACI,2DAAC,kEAAD;AAAK,eAAW,EAAED;AAAlB,IADJ,CADF,CADJ,eAOI;AAAQ,2BAAuB,EAAE;AAC7BE,YAAM,8BAAuBC,IAAI,CAACC,SAAL,CAAeJ,WAAf,CAAvB;AADuB;AAAjC,IAPJ,eAUI;AAAQ,OAAG,EAAC;AAAZ,IAVJ,CAbJ,CADO;AAAA,CAAb;;AA4BAhC,GAAG,CAACC,GAAJ,CAAQ,QAAR;AAAA,qEAAkB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACSC,4CAAK,CAAC,uCAAuCF,GAAG,CAACG,KAAJ,CAAUgC,MAAlD,CADd;;AAAA;AACRC,oBADQ;AAERC,wBAFQ,GAEOD,QAAQ,CAAC1B,IAFhB;AAAA;AAAA,mBAGaR,4CAAK,CAAC,8CAA8CmC,YAAY,CAACC,QAA5D,CAHlB;;AAAA;AAGRC,wBAHQ;AAIdtC,eAAG,CAACU,IAAJ,CAAS6B,uDAAQ,CAACC,cAAT,CAAwBZ,IAAI,CAAC7B,GAAD,EAAM;AAAC0C,qBAAO,EAAEL,YAAY,CAACK,OAAvB;AAAgCH,0BAAY,EAAEA,YAAY,CAAC7B;AAA3D,aAAN,CAA5B,CAAT;;AAJc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAQAZ,GAAG,CAACC,GAAJ,CAAQ,YAAR;AAAA,sEAAsB,kBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACKC,4CAAK,CAAC,qCAAqCF,GAAG,CAACgB,MAAJ,CAAWC,EAAjD,CADV;;AAAA;AACZmB,oBADY;AAEZC,wBAFY,GAEGD,QAAQ,CAAC1B,IAFZ;AAAA;AAAA,mBAGSR,4CAAK,CAAC,8CAA8CmC,YAAY,CAACM,IAAb,CAAkBL,QAAjE,CAHd;;AAAA;AAGZC,wBAHY;AAIlBtC,eAAG,CAACU,IAAJ,CAAS6B,uDAAQ,CAACC,cAAT,CAAwBZ,IAAI,CAAC7B,GAAD,EAAM;AAAC2C,kBAAI,EAAEN,YAAY,CAACM,IAApB;AAA0BtB,4BAAc,EAAEkB,YAAY,CAAC7B;AAAvD,aAAN,CAA5B,CAAT;;AAJkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAAA;AAAA;AAAA;AAAA,K,CAOA;;AACAZ,GAAG,CAACC,GAAJ,CAAQ,GAAR;AAAA,sEAAa,kBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AACTA,eAAG,CAACU,IAAJ,CAAS6B,uDAAQ,CAACC,cAAT,CAAwBZ,IAAI,CAAC7B,GAAD,EAAM,EAAN,CAA5B,CAAT;;AADS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAAA;AAAA;AAAA;AAAA;AAKAF,GAAG,CAAC8C,MAAJ,CAAW,IAAX,EAAiB;AAAA,SAAMC,OAAO,CAACC,GAAR,CAAY,yCAAZ,CAAN;AAAA,CAAjB,E;;;;;;;;;;;;;;;;;;;;;ACrEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxB,SAAO;AACHC,QAAI,EAAE,QADH;AAEHC,YAAQ,EAAE;AAFP,GAAP;AAIH,CALD;;AAOA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACP,IAAD,EAAU;AAC1B,SAAO;AACH1B,MAAE,EAAE0B,IAAI,CAAC1B,EADN;AAEHkC,SAAK,EAAER,IAAI,CAACQ,KAFT;AAGHC,SAAK,EAAC;AACFC,cAAQ,EAAEV,IAAI,CAACW,WADb;AAEFC,YAAM,EAAEC,IAAI,CAACC,KAAL,CAAWd,IAAI,CAACS,KAAhB,CAFN;AAGFM,aAAO,EAAEC,QAAQ,CAAC,CAAEhB,IAAI,CAACS,KAAL,GAAa,CAAd,GAAmB,EAApB,EAAwBQ,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,IAAwC,CAAEjB,IAAI,CAACS,KAAL,GAAa,CAAd,GAAmB,EAApB,EAAwBQ,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,CAAxC,GAAgF,CAAjF;AAHf,KAHH;AAQHC,WAAO,EAAElB,IAAI,CAACmB,QAAL,GAAgBnB,IAAI,CAACmB,QAAL,CAAc,CAAd,EAAiB/B,GAAjC,GAAuCY,IAAI,CAACoB,SARlD;AASHC,aAAS,EAAErB,IAAI,CAACqB,SATb;AAUHC,iBAAa,EAAEtB,IAAI,CAACuB,QAAL,CAAcD,aAV1B;AAWH3B,YAAQ,EAAEK,IAAI,CAACvB;AAXZ,GAAP;AAaH,CAdD;;AAgBO,IAAMD,UAAU,GAAG,SAAbA,UAAa,CAACwB,IAAD,EAAU;AAChC,MAAG;AACC,WAAM;AACFwB,YAAM,EAAEpB,aAAa,EADnB;AAEFJ,UAAI,kCAAMO,WAAW,CAACP,IAAD,CAAjB,GAA4B;AAACyB,qBAAa,EAAEzB,IAAI,CAACyB,aAArB;AAAoCC,mBAAW,EAAE1B,IAAI,CAAC2B,IAAL,GAAY3B,IAAI,CAAC2B,IAAjB,GAAwB3B,IAAI,CAAC4B;AAA9E,OAA5B;AAFF,KAAN;AAIH,GALD,CAMA,OAAM3D,KAAN,EAAY;AACR,WAAOA,KAAP;AACH;AACJ,CAVM;;AAYP,IAAM4D,eAAe,GAAG,SAAlBA,eAAkB,CAACC,UAAD,EAAgB;AACpC,MAAI;AACA,QAAIC,GAAG,GAAGD,UAAU,CAACC,GAAX,CAAe,UAASC,CAAT,EAAY;AACjC,aAAOF,UAAU,CAACG,MAAX,CAAkB,UAASC,CAAT,EAAY;AACjC,eAAOF,CAAC,KAAKE,CAAb;AACH,OAFM,EAEJC,MAFH;AAGH,KAJS,CAAV;AAKJ,WAAOL,UAAU,CAACC,GAAG,CAACK,OAAJ,CAAYvB,IAAI,CAACwB,GAAL,CAASC,KAAT,CAAe,IAAf,EAAqBP,GAArB,CAAZ,CAAD,CAAjB;AACC,GAPD,CAOE,OAAM9D,KAAN,EAAY;AACV,WAAOA,KAAP;AACH;AACJ,CAXD;;AAaO,IAAMH,aAAa,GAAG,SAAhBA,aAAgB,CAAC2B,QAAD,EAAc;AACvC,MAAI;AACA,QAAM8C,UAAU,GAAG;AACff,YAAM,EAACpB,aAAa;AADL,KAAnB;AAGA,QAAIoC,aAAa,GAAG,EAApB;AACA,QAAIV,UAAU,GAAG,EAAjB;;AACA,QAAIrC,QAAQ,CAACM,OAAT,IAAoBN,QAAQ,CAACM,OAAT,CAAiBoC,MAAjB,GAA0B,CAAlD,EAAqD;AACjD,UAAMM,kBAAkB,GAAGhD,QAAQ,CAACM,OAAT,CAAiBoC,MAAjB,GAA0B,CAA1B,GAA8B,CAA9B,GAAkC1C,QAAQ,CAACM,OAAT,CAAiBoC,MAAjB,GAA0B,CAAvF;AACAK,mBAAa,GAAG/C,QAAQ,CAACM,OAAT,CAAiB2C,KAAjB,CAAuB,CAAvB,EAA0BD,kBAA1B,EAA8CV,GAA9C,CAAkD,UAAA/B,IAAI,EAAI;AACtE8B,kBAAU,CAACa,IAAX,CAAgB3C,IAAI,CAACvB,WAArB;AACA,eAAO8B,WAAW,CAACP,IAAD,CAAlB;AACH,OAHe,CAAhB;AAIH;;AACD,QAAI4C,kBAAkB,GAAGf,eAAe,CAACC,UAAD,CAAxC;AACA,yDAAWS,UAAX,GAA0B;AAACxC,aAAO,EAAEyC;AAAV,KAA1B,GAAuD;AAAC7C,cAAQ,EAAEiD;AAAX,KAAvD;AACH,GAfD,CAgBA,OAAM3E,KAAN,EAAY;AACR,WAAOA,KAAP;AACH;AACJ,CApBM,C;;;;;;;;;;;;;;;;;;;;;;;;ACjDP,kC;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,4C;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,6C","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"_1y-EmQ4FZAwnJSeb3pGNky\"};","import React, {/*useEffect,*/  useState} from 'react'\r\nimport { Route, Switch /*, NavLink*/ } from 'react-router-dom';\r\nimport Results from '../Results/Results'\r\nimport Detail from '../Detail/Detail'\r\n//import Home from '../Home/Home';\r\nimport SearchBar from '../SearchBar';\r\nimport style from './App.scss'\r\n//import axios from 'axios';\r\n\r\nconst App = (props:any) => {\r\n  const [apiData] = useState(props.apiResponse) //from now on, the data is managed on the react code\r\n  return (\r\n    <div className={style.container}>\r\n      <SearchBar/>\r\n      <div className={style.routeContainer}>\r\n        <Switch>  \r\n          <Route exact path=\"/\" component={() => <div></div>}/> \r\n          <Route exact path=\"/items\" component={() => <Results items={apiData.results} pathFromRoot={apiData.pathFromRoot}/>} />\r\n          <Route exact path=\"/items/:id\" component={() => <Detail detail={apiData.item} path={apiData.path_from_root}/>} />\r\n          <Route component={() => <div>Not found</div>} />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"_3qLS_oADnfvMbfO9U-4gTA\"};","import React from 'react';\r\nimport styles from './BreadCrumb.scss';\r\n\r\nconst BreadCrumb = ( props: any) => {\r\n    const {path} = props;\r\n    return(\r\n        <div className={styles.container}>\r\n            {path.map((step:any, index:number) => {\r\n                return step.name + (index < path.length -1 ? ' > ' : '')\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BreadCrumb;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"_1pde6mqdRez3K8ONdmmK2R\",\"info\":\"_1QeLM4LLT9iP_Cgdk9lVSy\",\"detailInfo\":\"_1GxVz_yJ1zDWvpKg-vmKJd\",\"button\":\"_1MUVV83xWB6pC2tPffFirM\",\"description\":\"_3sMEsj4o1h7LevAlsYpuDl\",\"productImage\":\"_1JMekWBAevEQSmKJd3JjlS\",\"title\":\"_3JM_i6koqWHCpKrjGlbxGC\",\"amount\":\"_2ECn6aYsQPmj7dAZNn4j8K\",\"productDetails\":\"_1RrQi3uTFv8kWPpYPizkQ0\",\"details\":\"_3VAyliKKSO0-QwXqhxRAzh\"};","import React from 'react';\r\nimport styles from './Detail.scss'\r\nimport {Container, Row, Col, Button} from 'react-bootstrap';\r\nimport BreadCrumb from '../BreadCrumb/BreadCrumb';\r\n\r\nconst formatAmount = (amount:number, decimal: number) => {\r\n    let integerPart = amount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\r\n    let decimalFormatted = decimal.toString().length > 2 ? decimal.toString().slice(0,2) : decimal.toString();\r\n    let decimalPart = decimalFormatted !== \"0\" ? (',' + decimalFormatted) : '';\r\n    return integerPart + decimalPart;\r\n}\r\n\r\nconst Detail = ( props: any) => {\r\n    const {detail, path} = props;\r\n    return(\r\n        <>\r\n        <BreadCrumb path={path}/>\r\n        <Container className={styles.container}>\r\n            <Row className={styles.details}>\r\n                <Info detail={detail}/>\r\n            </Row>\r\n            <Row>\r\n            <Col xl=\"8\" className={styles.description}>\r\n                <h2>Descripci√≥n del producto</h2>\r\n                <p>{detail.description}</p>\r\n            </Col>\r\n            </Row>\r\n        </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nconst Info = (props:any) => {\r\n    const {detail} = props;\r\n    return(\r\n        <>\r\n            <Col xl=\"6\">\r\n                <img className={styles.productImage} src={detail.picture}/>\r\n            </Col>\r\n            <Col xl=\"2\">\r\n            </Col>\r\n            <Col xl=\"4\" className={styles.productDetails}>\r\n                <>\r\n                    <div>\r\n                        <span>{detail.condition === 'new' ? 'nuevo' : 'usado'}</span> - <span>{detail.sold_quantity} vendidos</span>\r\n                    </div>\r\n                    <h2 className={styles.title}>\r\n                        {detail.title}\r\n                    </h2>\r\n                    <h1 className={styles.amount}>\r\n                        $ {formatAmount(detail.price.amount, detail.price.decimal)}\r\n                    </h1>\r\n                    <Button size=\"lg\" className={styles.button} variant=\"primary\">Comprar</Button>\r\n                </>\r\n            </Col>\r\n        </> \r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Detail","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"g29KinbkoQ7VBKOY1dy5z\",\"container-fluid\":\"_2IZngBWefFJ9vjS9dtstHe\",\"image\":\"_16h-cRfjrS3jwkBfySw91u\",\"details\":\"_2dpT0IO6tx6PGZDNuSK4b_\",\"location\":\"V-MhpvXjUhk7HrwB9oHMA\"};","import React from 'react';\r\nimport style from './ItemCard.scss'\r\nimport {Container, Row, Col} from 'react-bootstrap';\r\n\r\nconst redirectToItem = (id:string) => {\r\n    window.location.href = ('/items/' + id)\r\n}\r\n\r\nconst formatAmount = (amount:number, decimal: number) => {\r\n    let integerPart = amount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\r\n    let decimalFormatted = decimal.toString().length > 2 ? decimal.toString().slice(0,2) : decimal.toString();\r\n    let decimalPart = decimalFormatted !== \"0\" ? (',' + decimalFormatted) : '';\r\n    return integerPart + decimalPart;\r\n}\r\n\r\nconst Item = (props:any) => {\r\n    return(\r\n        <Container fluid className=\"p-0\">\r\n            <div onClick={() => redirectToItem(props.item.id)} className={style.container}>\r\n                <Row>\r\n                    <Col md=\"2\">\r\n                        <img className={style.image} src={props.item.picture}></img>\r\n                    </Col>\r\n                    <Col md=\"8\">\r\n                        <div className={style.details}>\r\n                            <h1>$ {formatAmount(props.item.price.amount, props.item.price.decimal)}</h1>\r\n                            <h2>{props.item.title}</h2>\r\n                        </div>\r\n                    </Col>\r\n                    <Col md=\"2\">\r\n                        <span className={style.location}>Capital federal</span>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Item;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"gvS43wKyiI5J3KqLX8nXI\"};","import React/*, {useEffect, useState}*/ from 'react';\r\nimport ItemCard from './ItemCard/ItemCard';\r\nimport style from './Results.scss'\r\nimport BreadCrumb from '../BreadCrumb/BreadCrumb';\r\n\r\nconst Results = (props:any) => {\r\n    return(\r\n        <>\r\n            <BreadCrumb path={props.pathFromRoot}/>\r\n            <div className={style.container}>\r\n                <div>\r\n                    {props.items ? props.items.map((result:any, key:number) => {\r\n                        return <ItemCard key={key} item={result}/>\r\n                    }) : <div>No results</div>}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Results;","import React from 'react';\r\nimport style from './styles.scss'\r\n\r\nconst SearchInput = (onEnter) => {\r\n\r\n    const handleInput = (event) => {\r\n        if (event.key === 'Enter') {\r\n            window.location.href = '/items?search=' + event.target.value\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className={style.searchInputContainer}>\r\n            <input className={style.searchInput} onKeyDown={handleInput}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchInput;","// extracted by mini-css-extract-plugin\nexport default {\"searchInputContainer\":\"qAN2NEDuhuJnfc8oL3Y8t\",\"searchInput\":\"_2fJOjBP8Imhc_BqXdKMLCS\"};","import React from 'react';\r\nimport style from './styles.scss';\r\nimport SearchInput from './SearchInput';\r\n\r\nconst SearchBar = (props:any) => {\r\n    \r\n    const goHome = () => {\r\n        window.location.href = '/'\r\n    }\r\n\r\n    return(\r\n        <div className={style.topBar}>\r\n            <div className={style.searchBarContainer}>\r\n                <img onClick={goHome} className={style.image} src=\"/static/logo.png\"></img>\r\n                <SearchInput onEnter={props.onEnter}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar;","// extracted by mini-css-extract-plugin\nexport default {\"topBar\":\"_2l-vrF9te8WePkvFkv-jGN\",\"searchBarContainer\":\"_2kL9xG4R2p6aBYR5D3qT1c\",\"image\":\"_1-FJ0t3IFzrT4uUaJ7sweu\"};","import axios from 'axios';\r\nimport {formatItem, formatResults} from './utils';\r\n\r\nexport default function(app){\r\n    //search for items\r\n    app.get('/api/items', async (req, res) => {\r\n        try {\r\n            axios.get('https://api.mercadolibre.com/sites/MLA/search?q=' + req.query.q, {timeout: 5000})\r\n            .then(result => {\r\n                const formattedResults = formatResults(result.data);\r\n                res.send(formattedResults)\r\n            })\r\n        }\r\n        catch(error){\r\n            res.status(500).send({message: 'There was an error while fetching the data'});    \r\n        }\r\n    })\r\n\r\n    //single item endpoint. Needs two endpoints to gather all the information. They need to be triggered at the same time and will succeed if both calls succeed\r\n    app.get('/api/items/:id', (req, res) => {\r\n        try{\r\n            axios.all([\r\n                axios.get('https://api.mercadolibre.com/items/' + req.params.id, { timeout: 5000 }),\r\n                axios.get('https://api.mercadolibre.com/items/' + req.params.id + '/description', { timeout: 5000 })\r\n            ])\r\n            .then(result => {\r\n                let formattedResult = formatItem({...result[0].data, ...result[1].data})\r\n                res.send(formattedResult)\r\n            })\r\n        }\r\n        catch(error){\r\n            res.status(500).send({\r\n                message: error.message\r\n            })};\r\n    });    \r\n    \r\n    \r\n    app.get('/api/path_from_root/:category_id/', (req, res) => {\r\n        try{\r\n            axios.get('https://api.mercadolibre.com/categories/' + req.params.category_id, { timeout: 5000 })\r\n            .then(result => {\r\n                res.send(result.data.path_from_root)\r\n            })\r\n        }\r\n        catch(error){ res.status(500).send({\r\n                message: error.message\r\n            });\r\n        }\r\n    });    \r\n}","import express from 'express'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom/server';\r\nimport App from '../client/components/App/App';\r\nimport path from 'path';\r\nimport { StaticRouter } from 'react-router-dom';\r\nimport {routeQuerySwitch} from './utils'\r\nimport axios from 'axios';\r\nimport api from './api';\r\n\r\n\r\nconst app = express();\r\nvar cors = require('cors')\r\n//get assets for JS hydate and CSS\r\napp.use(cors())\r\napp.use('/static', express.static('dist'))\r\napp.use('/static', express.static(path.join('public', 'assets')))\r\napp.use('/static', express.static(path.join('server-build', 'css')))\r\n\r\napi(app);\r\n\r\nconst html = (req, apiResponse) => \r\n      <html>\r\n          <head>\r\n            <meta charSet=\"UTF-8\"/>\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n            <title>React</title>\r\n            <link rel=\"stylesheet\" href=\"/static/main.css\"/>\r\n            <link\r\n                rel=\"stylesheet\"\r\n                href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\r\n                integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\r\n                crossOrigin=\"anonymous\"\r\n            />              \r\n          </head>            \r\n          <body>\r\n              <div id=\"app\">\r\n                <StaticRouter location={req.url}>\r\n                    <App apiResponse={apiResponse}/>\r\n                </StaticRouter>              \r\n              </div>\r\n              {/* Inject server side fetched data inti client side __data__ window object. This is used in src/index.js as props for App component*/}\r\n              <script dangerouslySetInnerHTML={{\r\n                  __html: `window.__data__ = ${JSON.stringify(apiResponse)};`\r\n              }}/>\r\n              <script src=\"/static/bundle.js\"></script>\r\n          </body>\r\n      </html>\r\n\r\napp.get('/items', async (req, res) => {\r\n    const response = await axios('http://localhost:3000/api/items?q=' + req.query.search);\r\n    const responseData = response.data;\r\n    const pathFromRoot = await axios('http://localhost:3000/api/path_from_root/' + responseData.category);\r\n    res.send(ReactDOM.renderToString(html(req, {results: responseData.results, pathFromRoot: pathFromRoot.data})));\r\n})\r\n\r\n\r\napp.get('/items/:id', async (req, res) => {\r\n    const response = await axios('http://localhost:3000/api/items/' + req.params.id);\r\n    const responseData = response.data;\r\n    const pathFromRoot = await axios('http://localhost:3000/api/path_from_root/' + responseData.item.category);\r\n    res.send(ReactDOM.renderToString(html(req, {item: responseData.item, path_from_root: pathFromRoot.data})));\r\n})\r\n\r\n//other routes handled by react-router staticRouter\r\napp.get('*', async (req, res) => {\r\n    res.send(ReactDOM.renderToString(html(req, [])));\r\n})\r\n\r\n\r\napp.listen(3000, () => console.log(\"server started at http://localhost:3000\"))","\r\nconst authorCreator = () => {\r\n    return {\r\n        name: 'Manuel',\r\n        lastName: 'Torre'\r\n    }\r\n}\r\n\r\nconst getItemData = (item) => {\r\n    return {\r\n        id: item.id,\r\n        title: item.title,\r\n        price:{\r\n            currency: item.currency_id,\r\n            amount: Math.trunc(item.price),\r\n            decimal: parseInt(((item.price % 1) + '').split('.')[1] ? ((item.price % 1) + '').split('.')[1] : 0)\r\n        },\r\n        picture: item.pictures ? item.pictures[0].url : item.thumbnail,\r\n        condition: item.condition,\r\n        free_shipping: item.shipping.free_shipping,\r\n        category: item.category_id\r\n    }\r\n}\r\n\r\nexport const formatItem = (item) => {\r\n    try{\r\n        return{\r\n            author: authorCreator(),\r\n            item: {...getItemData(item), ...{sold_quantity: item.sold_quantity, description: item.text ? item.text : item.plain_text}}\r\n        }\r\n    }\r\n    catch(error){\r\n        return error\r\n    }\r\n}\r\n\r\nconst mostOccurrences = (categories) => {\r\n    try {\r\n        var map = categories.map(function(a) {\r\n            return categories.filter(function(b) {\r\n                return a === b;\r\n            }).length;\r\n        });\r\n    return categories[map.indexOf(Math.max.apply(null, map))];\r\n    } catch(error){\r\n        return error\r\n    }\r\n}\r\n\r\nexport const formatResults = (response) => {\r\n    try {\r\n        const searchInfo = {\r\n            author:authorCreator()\r\n        };\r\n        let searchResults = [];\r\n        let categories = [];\r\n        if (response.results && response.results.length > 0) {\r\n            const resultsLengthIndex = response.results.length > 4 ? 4 : response.results.length - 1\r\n            searchResults = response.results.slice(0, resultsLengthIndex).map(item => {\r\n                categories.push(item.category_id);\r\n                return getItemData(item)              \r\n            });\r\n        }\r\n        let breadCrumbCategory = mostOccurrences(categories)\r\n        return {...searchInfo, ...{results: searchResults}, ...{category: breadCrumbCategory}}\r\n    }\r\n    catch(error){\r\n        return error\r\n    }\r\n}","module.exports = require(\"axios\");","module.exports = require(\"babel-polyfill\");","module.exports = require(\"cors\");","module.exports = require(\"express\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-bootstrap\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-router-dom\");"],"sourceRoot":""}