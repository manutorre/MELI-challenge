{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/client/components/App/App.scss?aa3e","webpack:///./src/client/components/App/App.tsx","webpack:///./src/client/components/BreadCrumb/BreadCrumb.scss?987b","webpack:///./src/client/components/BreadCrumb/BreadCrumb.tsx","webpack:///./src/client/components/Detail/Detail.scss?2f68","webpack:///./src/client/components/Detail/Detail.tsx","webpack:///./src/client/components/Results/ItemCard/ItemCard.scss?6e35","webpack:///./src/client/components/Results/ItemCard/ItemCard.tsx","webpack:///./src/client/components/Results/Results.scss?82b8","webpack:///./src/client/components/Results/Results.tsx","webpack:///./src/client/components/SearchBar/SearchBar.tsx","webpack:///./src/client/components/SearchBar/SearchInput/SearchInput.js","webpack:///./src/client/components/SearchBar/SearchInput/SearchInput.scss?071d","webpack:///./src/client/components/SearchBar/Searchbar.scss?878a","webpack:///./src/server/api.js","webpack:///./src/server/index.js","webpack:///./src/server/utils.js","webpack:///external \"axios\"","webpack:///external \"babel-polyfill\"","webpack:///external \"cors\"","webpack:///external \"express\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-bootstrap\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-router-dom\""],"names":["SearchInput","onEnter","useState","inputText","changeText","useEffect","params","URLSearchParams","window","location","search","get","handleInput","event","target","value","key","type","href","styles","searchInputContainer","searchInput","searchButtonContainer","searchButton","app","req","res","axios","query","q","timeout","then","result","formattedResults","formatResults","data","send","error","status","message","all","id","formattedResult","formatItem","category_id","path_from_root","express","cors","require","use","path","join","api","html","apiResponse","url","__html","JSON","stringify","response","responseData","category","pathFromRoot","ReactDOM","renderToString","results","item","listen","console","log","authorCreator","name","lastName","getItemData","title","price","currency","currency_id","amount","Math","trunc","decimal","parseInt","split","picture","pictures","thumbnail","condition","free_shipping","shipping","address","city_name","seller_address","city","author","sold_quantity","description","text","plain_text","mostOccurrences","categories","map","a","filter","b","length","indexOf","max","apply","searchInfo","searchResults","resultsLengthIndex","slice","push","breadCrumbCategory"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"_1y-EmQ4FZAwnJSeb3pGNky\"};","import React, {/*useEffect,*/  useState} from 'react'\r\nimport { Route, Switch /*, NavLink*/ } from 'react-router-dom';\r\nimport Results from '../Results/Results'\r\nimport Detail from '../Detail/Detail'\r\n//import Home from '../Home/Home';\r\nimport SearchBar from '../SearchBar/SearchBar';\r\nimport style from './App.scss'\r\n//import axios from 'axios';\r\n\r\nconst App = (props:any) => {\r\n  const [apiData] = useState(props.apiResponse) //from now on, the data is managed on the react code\r\n  return (\r\n    <div className={style.container}>\r\n      <SearchBar/>\r\n      <div className={style.routeContainer}>\r\n        <Switch>  \r\n          <Route exact path=\"/\" component={() => <div></div>}/> \r\n          <Route exact path=\"/items\" component={() => <Results items={apiData.results} pathFromRoot={apiData.pathFromRoot}/>} />\r\n          <Route exact path=\"/items/:id\" component={(props:any) => <Detail detail={apiData.item} path={apiData.path_from_root} {...props}/>} />\r\n          <Route component={() => <div>Not found</div>} />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"_3qLS_oADnfvMbfO9U-4gTA\"};","import React from 'react';\r\nimport styles from './BreadCrumb.scss';\r\n\r\nconst BreadCrumb = ( props: any) => {\r\n    const {path} = props;\r\n    return(\r\n        <div className={styles.container}>\r\n            {path.map((step:any, index:number) => {\r\n                return step.name + (index < path.length -1 ? ' > ' : '')\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BreadCrumb;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"_1pde6mqdRez3K8ONdmmK2R\",\"info\":\"_1QeLM4LLT9iP_Cgdk9lVSy\",\"detailInfo\":\"_1GxVz_yJ1zDWvpKg-vmKJd\",\"button\":\"_1MUVV83xWB6pC2tPffFirM\",\"description\":\"_3sMEsj4o1h7LevAlsYpuDl\",\"productImage\":\"_1JMekWBAevEQSmKJd3JjlS\",\"title\":\"_3JM_i6koqWHCpKrjGlbxGC\",\"amount\":\"_2ECn6aYsQPmj7dAZNn4j8K\",\"productDetails\":\"_1RrQi3uTFv8kWPpYPizkQ0\",\"details\":\"_3VAyliKKSO0-QwXqhxRAzh\"};","import React from 'react';\r\nimport styles from './Detail.scss'\r\nimport {Container, Row, Col, Button} from 'react-bootstrap';\r\nimport BreadCrumb from '../BreadCrumb/BreadCrumb';\r\n\r\nconst formatAmount = (amount:number, decimal: number) => {\r\n    let integerPart = amount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\r\n    let decimalFormatted = decimal.toString().length > 2 ? decimal.toString().slice(0,2) : decimal.toString();\r\n    let decimalPart = decimalFormatted !== \"0\" ? (',' + decimalFormatted) : '';\r\n    return integerPart + decimalPart;\r\n}\r\n\r\nconst Detail = ( props: any) => {\r\n    const {detail, path} = props;\r\n    return(\r\n        <>\r\n        <BreadCrumb path={path}/>\r\n        <Container className={styles.container}>\r\n            <Row className={styles.details}>\r\n                <Info detail={detail}/>\r\n            </Row>\r\n            <Row>\r\n            <Col xl=\"8\" className={styles.description}>\r\n                <h2>Descripción del producto</h2>\r\n                <p>{detail.description}</p>\r\n            </Col>\r\n            </Row>\r\n        </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nconst Info = (props:any) => {\r\n    const {detail} = props;\r\n    return(\r\n        <>\r\n            <Col xl=\"6\">\r\n                <img className={styles.productImage} src={detail.picture}/>\r\n            </Col>\r\n            <Col xl=\"2\">\r\n            </Col>\r\n            <Col xl=\"4\" className={styles.productDetails}>\r\n                <>\r\n                    <div>\r\n                        <span>{detail.condition === 'new' ? 'nuevo' : 'usado'}</span> - <span>{detail.sold_quantity} vendidos</span>\r\n                    </div>\r\n                    <h2 className={styles.title}>\r\n                        {detail.title}\r\n                    </h2>\r\n                    <h1 className={styles.amount}>\r\n                        $ {formatAmount(detail.price.amount, detail.price.decimal)}\r\n                    </h1>\r\n                    <Button size=\"lg\" className={styles.button} variant=\"primary\">Comprar</Button>\r\n                </>\r\n            </Col>\r\n        </> \r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Detail","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"g29KinbkoQ7VBKOY1dy5z\",\"container-fluid\":\"_2IZngBWefFJ9vjS9dtstHe\",\"image\":\"_16h-cRfjrS3jwkBfySw91u\",\"details\":\"_2dpT0IO6tx6PGZDNuSK4b_\",\"location\":\"V-MhpvXjUhk7HrwB9oHMA\"};","import React from 'react';\r\nimport style from './ItemCard.scss'\r\nimport {Container, Row, Col} from 'react-bootstrap';\r\n\r\nconst redirectToItem = (id:string) => {\r\n    window.location.href = ('/items/' + id)\r\n}\r\n\r\nconst formatAmount = (amount:number, decimal: number) => {\r\n    let integerPart = amount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\r\n    let decimalFormatted = decimal.toString().length > 2 ? decimal.toString().slice(0,2) : decimal.toString();\r\n    let decimalPart = decimalFormatted !== \"0\" ? (',' + decimalFormatted) : '';\r\n    return integerPart + decimalPart;\r\n}\r\n\r\nconst Item = (props:any) => {\r\n    return(\r\n        <Container fluid className=\"p-0\">\r\n            <div onClick={() => redirectToItem(props.item.id)} className={style.container}>\r\n                <Row>\r\n                    <Col md=\"2\">\r\n                        {props.item.picture && <img className={style.image} src={props.item.picture}></img>}\r\n                    </Col>\r\n                    <Col md=\"8\">\r\n                        <div className={style.details}>\r\n                            <h1>$ {formatAmount(props.item.price.amount, props.item.price.decimal)}</h1>\r\n                            <h2>{props.item.title}</h2>\r\n                        </div>\r\n                    </Col>\r\n                    <Col md=\"2\">\r\n                        <span className={style.location}>{props.item.location}</span>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Item;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"gvS43wKyiI5J3KqLX8nXI\"};","import React/*, {useEffect, useState}*/ from 'react';\r\nimport ItemCard from './ItemCard/ItemCard';\r\nimport style from './Results.scss'\r\nimport BreadCrumb from '../BreadCrumb/BreadCrumb';\r\n\r\nconst Results = (props:any) => {\r\n    return(\r\n        <>\r\n            <BreadCrumb path={props.pathFromRoot}/>\r\n            <div className={style.container}>\r\n                <div>\r\n                    {props.items ? props.items.map((result:any, key:number) => {\r\n                        return <ItemCard key={key} item={result}/>\r\n                    }) : <div>No results</div>}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Results;","import React from 'react';\r\nimport style from './Searchbar.scss';\r\nimport SearchInput from './SearchInput/SearchInput';\r\n\r\nconst SearchBar = (props:any) => {\r\n    \r\n    const goHome = () => {\r\n        window.location.href = '/'\r\n    }\r\n\r\n    return(\r\n        <div className={style.topBar}>\r\n            <div className={style.searchBarContainer}>\r\n                <img onClick={goHome} className={style.image} src=\"/static/logo.png\"></img>\r\n                <SearchInput onEnter={props.onEnter}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar;","import React, {useEffect, useState} from 'react';\r\nimport styles from './SearchInput.scss'\r\n\r\nconst SearchInput = (onEnter) => {\r\n\r\n    const [inputText, changeText] = useState('')\r\n\r\n    useEffect(() => {\r\n        const params = new URLSearchParams(window.location.search);\r\n        const search = params.get('search');\r\n        changeText(search)\r\n    }, [])\r\n\r\n    const handleInput = (event) => {\r\n        changeText(event.target.value)\r\n        if ((event.key === 'Enter' || event.type === 'click') && inputText && inputText !== '') {\r\n            window.location.href = '/items?search=' + inputText\r\n        }\r\n    }\r\n    \r\n    return(\r\n        <div className={styles.searchInputContainer}>\r\n            <input data-testid=\"search-input\" defaultValue={inputText} placeholder=\"Nunca dejes de buscar\" className={styles.searchInput} onKeyUp={handleInput}/>\r\n            <div onClick={handleInput} className={styles.searchButtonContainer}>\r\n                <img className={styles.searchButton} src=\"/static/search.png\"/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchInput;","// extracted by mini-css-extract-plugin\nexport default {\"searchInputContainer\":\"_3mtE_nlAKqWteKPrdiLPwE\",\"searchInput\":\"_1imXqbhKlrvIYG8lwk7_oJ\",\"searchButtonContainer\":\"_3Ejfs1dBzwt2JucDgQRNVx\",\"searchButton\":\"_23u_lyG-26NkIkXpYeD3YW\"};","// extracted by mini-css-extract-plugin\nexport default {\"topBar\":\"PO_hGyXAotoIsqaR5af4a\",\"searchBarContainer\":\"WuGLMe4JbQQm-KH8G9hEK\",\"image\":\"_1JwIKamnHa0RZvVVUcwKHM\"};","import axios from 'axios';\r\nimport {formatItem, formatResults} from './utils';\r\n\r\nexport default function(app){\r\n    //search for items\r\n    app.get('/api/items', async (req, res) => {\r\n        try {\r\n            axios.get('https://api.mercadolibre.com/sites/MLA/search?q=' + req.query.q, {timeout: 5000})\r\n            .then(result => {\r\n                const formattedResults = formatResults(result.data);\r\n                res.send(formattedResults)\r\n            })\r\n        }\r\n        catch(error){\r\n            res.status(500).send({message: 'There was an error while fetching the data'});    \r\n        }\r\n    })\r\n\r\n    //single item endpoint. Needs two endpoints to gather all the information. They need to be triggered at the same time and will succeed if both calls succeed\r\n    app.get('/api/items/:id', (req, res) => {\r\n        try{\r\n            axios.all([\r\n                axios.get('https://api.mercadolibre.com/items/' + req.params.id, { timeout: 5000 }),\r\n                axios.get('https://api.mercadolibre.com/items/' + req.params.id + '/description', { timeout: 5000 })\r\n            ])\r\n            .then(result => {\r\n                let formattedResult = formatItem({...result[0].data, ...result[1].data})\r\n                res.send(formattedResult)\r\n            })\r\n        }\r\n        catch(error){\r\n            res.status(500).send({\r\n                message: error.message\r\n            })};\r\n    });    \r\n    \r\n    \r\n    app.get('/api/path_from_root/:category_id/', (req, res) => {\r\n        try{\r\n            axios.get('https://api.mercadolibre.com/categories/' + req.params.category_id, { timeout: 5000 })\r\n            .then(result => {\r\n                res.send(result.data.path_from_root)\r\n            })\r\n        }\r\n        catch(error){ res.status(500).send({\r\n                message: error.message\r\n            });\r\n        }\r\n    });    \r\n}","import express from 'express'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom/server';\r\nimport App from '../client/components/App/App';\r\nimport path from 'path';\r\nimport { StaticRouter } from 'react-router-dom';\r\nimport {routeQuerySwitch} from './utils'\r\nimport axios from 'axios';\r\nimport api from './api';\r\n\r\n\r\nconst app = express();\r\nvar cors = require('cors')\r\n//get assets for JS hydate and CSS\r\napp.use(cors())\r\napp.use('/static', express.static('dist'))\r\napp.use('/static', express.static(path.join('public', 'assets')))\r\napp.use('/static', express.static(path.join('server-build', 'css')))\r\n\r\napi(app);\r\n\r\nconst html = (req, apiResponse) => \r\n      <html>\r\n          <head>\r\n            <meta charSet=\"UTF-8\"/>\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n            <title>React</title>\r\n            <link rel=\"stylesheet\" href=\"/static/main.css\"/>\r\n            <link\r\n                rel=\"stylesheet\"\r\n                href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\r\n                integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\r\n                crossOrigin=\"anonymous\"\r\n            />              \r\n          </head>            \r\n          <body>\r\n              <div id=\"app\">\r\n                <StaticRouter location={req.url}>\r\n                    <App apiResponse={apiResponse}/>\r\n                </StaticRouter>              \r\n              </div>\r\n              {/* Inject server side fetched data inti client side __data__ window object. This is used in src/index.js as props for App component*/}\r\n              <script dangerouslySetInnerHTML={{\r\n                  __html: `window.__data__ = ${JSON.stringify(apiResponse)};`\r\n              }}/>\r\n              <script src=\"/static/bundle.js\"></script>\r\n          </body>\r\n      </html>\r\n\r\napp.get('/items', async (req, res) => {\r\n    try {\r\n        const response = await axios('http://localhost:3000/api/items?q=' + req.query.search);\r\n        const responseData = response.data;\r\n        const pathFromRoot = await axios('http://localhost:3000/api/path_from_root/' + responseData.category);\r\n        res.send(ReactDOM.renderToString(html(req, {results: responseData.results, pathFromRoot: pathFromRoot.data})));\r\n    }\r\n    catch(error){\r\n        return error\r\n    }\r\n})\r\n\r\n\r\napp.get('/items/:id', async (req, res) => {\r\n    try {\r\n        const response = await axios('http://localhost:3000/api/items/' + req.params.id);\r\n        const responseData = response.data;\r\n        const pathFromRoot = await axios('http://localhost:3000/api/path_from_root/' + responseData.item.category);\r\n        res.send(ReactDOM.renderToString(html(req, {item: responseData.item, path_from_root: pathFromRoot.data})));\r\n    } catch(error){\r\n        return error\r\n    }\r\n})\r\n\r\n//other routes handled by react-router staticRouter\r\napp.get('*', async (req, res) => {\r\n    res.send(ReactDOM.renderToString(html(req, [])));\r\n})\r\n\r\n\r\napp.listen(3000, () => console.log(\"server started at http://localhost:3000\"))","\r\nconst authorCreator = () => {\r\n    return {\r\n        name: 'Manuel',\r\n        lastName: 'Torre'\r\n    }\r\n}\r\n\r\nconst getItemData = (item) => {\r\n    try {\r\n        return {\r\n            id: item.id,\r\n            title: item.title,\r\n            price:{\r\n                currency: item.currency_id,\r\n                amount: Math.trunc(item.price),\r\n                decimal: parseInt(((item.price % 1) + '').split('.')[1] ? ((item.price % 1) + '').split('.')[1] : 0)\r\n            },\r\n            picture: item.pictures ? item.pictures[0].url : item.thumbnail,\r\n            condition: item.condition,\r\n            free_shipping: item.shipping.free_shipping,\r\n            category: item.category_id,\r\n            location: item.address ? item.address.city_name : item.seller_address.city.name\r\n        }\r\n    } catch(error) {\r\n        return error;\r\n    }\r\n}\r\n\r\nexport const formatItem = (item) => {\r\n    try{\r\n        return{\r\n            author: authorCreator(),\r\n            item: {...getItemData(item), ...{sold_quantity: item.sold_quantity, description: item.text ? item.text : item.plain_text}}\r\n        }\r\n    }\r\n    catch(error){\r\n        return error\r\n    }\r\n}\r\n\r\nconst mostOccurrences = (categories) => {\r\n    try {\r\n        var map = categories.map(function(a) {\r\n            return categories.filter(function(b) {\r\n                return a === b;\r\n            }).length;\r\n        });\r\n    return categories[map.indexOf(Math.max.apply(null, map))];\r\n    } catch(error){\r\n        return error\r\n    }\r\n}\r\n\r\nexport const formatResults = (response) => {\r\n    try {\r\n        const searchInfo = {\r\n            author:authorCreator()\r\n        };\r\n        let searchResults = [];\r\n        let categories = [];\r\n        if (response.results && response.results.length > 0) {\r\n            const resultsLengthIndex = response.results.length > 4 ? 4 : response.results.length - 1\r\n            searchResults = response.results.slice(0, resultsLengthIndex).map(item => {\r\n                categories.push(item.category_id);\r\n                return getItemData(item)              \r\n            });\r\n        }\r\n        let breadCrumbCategory = mostOccurrences(categories)\r\n        return {...searchInfo, ...{results: searchResults}, ...{category: breadCrumbCategory}}\r\n    }\r\n    catch(error){\r\n        return error\r\n    }\r\n}","module.exports = require(\"axios\");","module.exports = require(\"babel-polyfill\");","module.exports = require(\"cors\");","module.exports = require(\"express\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-bootstrap\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-router-dom\");"],"sourceRoot":""}